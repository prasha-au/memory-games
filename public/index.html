<html>

<head>
  <title>Memory Games</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>

</head>

<body class="text-white dark:bg-slate-800 dark:text-black">

  <div id="root"></div>


<script type="module">
  import { html, render, useState, useEffect } from 'https://esm.sh/htm/preact/standalone'


  function DotwCalc() {

    function generateRandomDate() {
      return new Date(1700 + Math.floor(Math.random() * 500), Math.floor(Math.random() * 12), Math.floor(Math.random() * 31));
    }

    function formatDate(date) {
      return `${date.getDate()} ${date.toLocaleString('default', { month: 'short' })} ${date.getFullYear()}`;
    }

    function formatAnswer(date) {
      return `${date.getDay()} ${date.toLocaleString('default', { weekday: 'long' })}`;
    }


    const [randomDate, setRandomDate] = useState(new Date());
    const [showAnswer, setShowAnswer] = useState(false);

    useEffect(() => {
      setRandomDate(generateRandomDate());
    }, []);


    return html`
    <div class="flex">
      <div class="text-center mx-auto">
        <div class="text-white text-4xl mb-4">${formatDate(randomDate)}</div>
        <div class="text-white" style=${{ opacity: showAnswer ? 1 : 0 }}>${formatAnswer(randomDate)}</div>
        <br />
        <button class="bg-blue-700 hover:bg-blue-500 text-white font-bold py-2 px-4 mb-2 rounded" onClick=${() => {
          setShowAnswer(!showAnswer);
        }}>Show Answer</button>
        <br />
        <button class="bg-blue-700 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded" onClick=${() => {
          setShowAnswer(false);
          setRandomDate(generateRandomDate());
        }}>New Date</button>

      </div>
    </div>
    `;
  }


  function App() {
    return html`
    <h1 class="text-3xl font-bold underline text-white mb-8 text-center">Memory Games</h1>
    <${DotwCalc} />
    `;
  }

  render(html`<${App} />`, document.getElementById('root'));
</script>
</body>

</html>